# PPT ë°œí‘œ ìë£Œ - ìŠ¤í¬ë¦°ìƒ· ë§¤í•‘ ê°€ì´ë“œ

## ìŠ¤í¬ë¦°ìƒ· ì €ì¥ ìœ„ì¹˜
```
C:\Users\nthin\Downloads\edge-auth-manager-prototype\docs\screenshots\
```

---

## 1. ìš”êµ¬ì‚¬í•­ ì •ì˜ ë° ì •ì±… ì„¤ê³„

### 1-1. ë””ë°”ì´ìŠ¤ ID ë„¤ì„ìŠ¤í˜ì´ìŠ¤/ìƒíƒœì „ì´ì™€ ë“±ë¡Â·ìŠ¹ì¸ ì •ì±… ì •ë¦½

**{domain}/{site}/{group}/{deviceId} ê·œì¹™, ì–‘ë„/íê¸°/êµì²´ ì ˆì°¨ ëª…ì‹œ**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](01_namespace_device_list.png) | ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í˜•ì‹ `default/factory-A/sensors/agent-001` í™•ì¸ |
| ![](02_status_pending.png) | ìƒíƒœì „ì´: PENDING ìƒíƒœ (ë…¸ë€ìƒ‰) |
| ![](05_admin_actions.png) | Admin Actions: Approve, Revoke, Decommission, Transfer ë²„íŠ¼ |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**01_namespace_device_list.png - ë””ë°”ì´ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ëª©ë¡**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë””ë°”ì´ìŠ¤ ì‹ë³„ ì²´ê³„ - ê³„ì¸µì  ë„¤ì„ìŠ¤í˜ì´ìŠ¤

[ë³¸ë¬¸]
â€¢ ë””ë°”ì´ìŠ¤ ì‹ë³„ìëŠ” 4ë‹¨ê³„ ê³„ì¸µ êµ¬ì¡°ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤
  - í˜•ì‹: {domain}/{site}/{group}/{deviceId}
  - ì˜ˆì‹œ: default/factory-A/sensors/agent-001

â€¢ ê³„ì¸µë³„ ì˜ë¯¸:
  - domain: ì¡°ì§/í…Œë„ŒíŠ¸ êµ¬ë¶„ (ì˜ˆ: default, production)
  - site: ë¬¼ë¦¬ì  ìœ„ì¹˜ (ì˜ˆ: factory-A, building-B)
  - group: ë…¼ë¦¬ì  ê·¸ë£¹ (ì˜ˆ: sensors, actuators)
  - deviceId: ê°œë³„ ë””ë°”ì´ìŠ¤ ê³ ìœ  ID

â€¢ ì´ êµ¬ì¡°ë¥¼ í†µí•´ ìˆ˜ì²œ ê°œì˜ ì—£ì§€ ë””ë°”ì´ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
```

**02_status_pending.png - ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë””ë°”ì´ìŠ¤ ìƒíƒœì „ì´ - PENDING (ìŠ¹ì¸ ëŒ€ê¸°)

[ë³¸ë¬¸]
â€¢ PENDING ìƒíƒœ: ë””ë°”ì´ìŠ¤ê°€ ë“±ë¡ë˜ì—ˆìœ¼ë‚˜ ê´€ë¦¬ì ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ
  - í™”ë©´ì—ì„œ ë…¸ë€ìƒ‰ìœ¼ë¡œ ê°•ì¡° í‘œì‹œë©ë‹ˆë‹¤
  - ì´ ìƒíƒœì—ì„œëŠ” JWT í† í° ë°œê¸‰ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤

â€¢ ìƒíƒœì „ì´ íë¦„:
  PENDING â†’ APPROVED â†’ (í•„ìš”ì‹œ) REVOKED

â€¢ ë³´ì•ˆ ê´€ì :
  - ëª¨ë“  ì‹ ê·œ ë””ë°”ì´ìŠ¤ëŠ” ë°˜ë“œì‹œ ê´€ë¦¬ì ìŠ¹ì¸ ì ˆì°¨ë¥¼ ê±°ì³ì•¼ í•©ë‹ˆë‹¤
  - ë¬´ë‹¨ ë””ë°”ì´ìŠ¤ì˜ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ì„ ì‚¬ì „ ì°¨ë‹¨í•©ë‹ˆë‹¤
```

**05_admin_actions.png - ê´€ë¦¬ì ì•¡ì…˜ ë²„íŠ¼**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë””ë°”ì´ìŠ¤ ìƒëª…ì£¼ê¸° ê´€ë¦¬ - Admin Actions

[ë³¸ë¬¸]
â€¢ Approve (ìŠ¹ì¸): PENDING â†’ APPROVED ìƒíƒœ ë³€ê²½
  - ìŠ¹ì¸ëœ ë””ë°”ì´ìŠ¤ë§Œ JWT í† í° ë°œê¸‰ ê°€ëŠ¥

â€¢ Revoke (íê¸°): ë””ë°”ì´ìŠ¤ ì ‘ê·¼ ê¶Œí•œ ì¦‰ì‹œ ì°¨ë‹¨
  - ë¶„ì‹¤/ë„ë‚œ/í‡´ì¶œ ë””ë°”ì´ìŠ¤ ì²˜ë¦¬

â€¢ Decommission (í•´ì œ): ë””ë°”ì´ìŠ¤ ì™„ì „ ì œê±°
  - ë””ë°”ì´ìŠ¤ êµì²´ ì‹œ ì‚¬ìš©

â€¢ Transfer (ì–‘ë„): ë‹¤ë¥¸ ê·¸ë£¹/ì‚¬ì´íŠ¸ë¡œ ì´ê´€
  - ë¬¼ë¦¬ì  ìœ„ì¹˜ ë³€ê²½ ì‹œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì—…ë°ì´íŠ¸

â€¢ Issue Cert / Renew Cert: ì¸ì¦ì„œ ë°œê¸‰/ê°±ì‹ 
  - mTLS í†µì‹ ì„ ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ê´€ë¦¬
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- ë„¤ì„ìŠ¤í˜ì´ìŠ¤: `{domain}/{site}/{group}/{deviceId}` ê³„ì¸µ êµ¬ì¡°
- ìƒíƒœì „ì´: PENDING â†’ APPROVED â†’ REVOKED
- ì–‘ë„(Transfer), íê¸°(Decommission) ë²„íŠ¼ìœ¼ë¡œ ìƒëª…ì£¼ê¸° ê´€ë¦¬

---

### 1-2. ë‚´ë¶€/ì™¸ë¶€ í†µì‹  êµ¬ê°„ êµ¬ë¶„ ë° QoS ê¸°ì¤€ ì„¤ì •

**ì˜¨ë””ë°”ì´ìŠ¤â†”ê²Œì´íŠ¸ì›¨ì´(ë‚´ë¶€), ê²Œì´íŠ¸ì›¨ì´â†”ê´€ë¦¬ì/ì™¸ë¶€ì„œë¹„ìŠ¤(ì™¸ë¶€) êµ¬ë¶„**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](50_checklist_network_code.png) | Retry/Backoff ì½”ë“œ (Checklist í˜ì´ì§€) |
| ![](51_checklist_container_code.png) | Docker ë„¤íŠ¸ì›Œí¬/TLS ì„¤ì • ì½”ë“œ |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**50_checklist_network_code.png - QoS ì¬ì‹œë„/ë°±ì˜¤í”„ ì½”ë“œ**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] QoS êµ¬í˜„ - ì¬ì‹œë„/ë°±ì˜¤í”„

[ë³¸ë¬¸]
â€¢ Checklist í˜ì´ì§€ > Code-Verifiable Items ì„¹ì…˜

â€¢ Retry / exponential backoff with jitter:
  - íŒŒì¼: services/agent/agent/client.py
  - tenacity ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
  - 5íšŒ ì¬ì‹œë„, 0.5s~8s ì§€ìˆ˜ ë°±ì˜¤í”„

â€¢ êµ¬í˜„ ì½”ë“œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  @retry(                                    â”‚
  â”‚    stop=stop_after_attempt(5),             â”‚
  â”‚    wait=wait_exponential_jitter(           â”‚
  â”‚      initial=0.5, max=8),                  â”‚
  â”‚    retry=retry_if_exception(_not_409))     â”‚
  â”‚  )                                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ëŒ€ì‹œë³´ë“œì—ì„œ ë³´ì´ì§€ ì•ŠëŠ” ì´ìœ :
  ìµœì¢… ì„±ê³µ ìš”ì²­ë§Œ í‘œì‹œ, ì¬ì‹œë„ ê³¼ì •ì€ ë‚´ë¶€ ì²˜ë¦¬
```

**51_checklist_container_code.png - Docker ë„¤íŠ¸ì›Œí¬/ì»¨í…Œì´ë„ˆ ì„¤ì •**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë‚´ë¶€/ì™¸ë¶€ í†µì‹  êµ¬ê°„ ë¶„ë¦¬

[ë³¸ë¬¸]
â€¢ Checklist í˜ì´ì§€ > Docker Compose orchestration ì„¹ì…˜

â€¢ ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬ êµ¬ì¡°:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Internal Network (ê²©ë¦¬ë¨)                  â”‚
  â”‚  Agent â†â†’ RabbitMQ (TLS AMQP 5671)         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ (RabbitMQê°€ ë¸Œë¦¿ì§€ ì—­í• )
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  External Network                           â”‚
  â”‚  Dashboard â†â†’ Manager (HTTPS 8443)         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ TLS ì„¤ì • í™•ì¸:
  - listeners.tcp = none (í‰ë¬¸ ë¹„í™œì„±í™”)
  - listeners.ssl.default = 5671 (TLSë§Œ í—ˆìš©)
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬: Agent â†” RabbitMQ (Docker internal: true, ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨)
- ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬: Dashboard/Manager (í˜¸ìŠ¤íŠ¸ í¬íŠ¸ ë§¤í•‘)
- RabbitMQê°€ ë‚´ë¶€/ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ë¸Œë¦¿ì§€ ì—­í• 
- QoS: tenacity ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì¬ì‹œë„/ë°±ì˜¤í”„ (5íšŒ, 0.5s~8s ì§€ìˆ˜ ë°±ì˜¤í”„)

---

### 1-3. ìƒí˜¸ì¸ì¦(mTLS) ì •ì±… ìˆ˜ë¦½

**ìŠ¤ì½”í”„/TTL ì •ì˜, ë§Œë£ŒÂ·íê¸°Â·íƒˆì·¨ ëŒ€ì‘ ì‹œë‚˜ë¦¬ì˜¤ ë§ˆë ¨**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](10_jwt_security_status.png) | JWT Security Status (TTL/ìŠ¤ì½”í”„ ì •ì˜, íƒˆì·¨ ëŒ€ì‘ - Blocked Tokens) |
| ![](12_token_events.png) | Token Events (ë§Œë£Œ ëŒ€ì‘ - ìë™ ê°±ì‹  ì¦ê±°) |
| ![](26_security_incidents.png) | Security Incidents (íê¸° ëŒ€ì‘ - REVOKED_ACCESS_ATTEMPT) |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**10_jwt_security_status.png - JWT ë³´ì•ˆ ì„¤ì • í˜„í™© (TTL/ìŠ¤ì½”í”„/íƒˆì·¨ ëŒ€ì‘)**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] JWT í† í° ë³´ì•ˆ ì •ì±…

[ë³¸ë¬¸]
â€¢ JWT Security Status:
  - Algorithm: HS256 (HMAC-SHA256)
  - TTL: 900ì´ˆ (15ë¶„) - í† í° ìœ íš¨ ê¸°ê°„
  - Blocked Tokens: ì°¨ë‹¨ëœ í† í° ìˆ˜ í‘œì‹œ

â€¢ TTL ì •ì˜:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  í† í° ìœ íš¨ ê¸°ê°„: 15ë¶„ (900ì´ˆ)              â”‚
  â”‚  â†’ íƒˆì·¨ë˜ë”ë¼ë„ ìµœëŒ€ í”¼í•´ ì‹œê°„ ì œí•œ        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ìŠ¤ì½”í”„ ì •ì˜:
  - sub: ë””ë°”ì´ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ (ì˜ˆ: default/site/group/device)
  - roles: ["agent"] - ì—­í•  ê¸°ë°˜ ê¶Œí•œ
  - aud: "edge-agents" - ëŒ€ìƒ ì‹œìŠ¤í…œ

â€¢ íƒˆì·¨ ëŒ€ì‘:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  1. ì§§ì€ TTL (15ë¶„)ë¡œ í”¼í•´ ì‹œê°„ ìµœì†Œí™”     â”‚
  â”‚  2. Blocked Tokensë¡œ íƒˆì·¨ í† í° ì¦‰ì‹œ ë¬´íš¨í™” â”‚
  â”‚  3. ë””ë°”ì´ìŠ¤ Revoke ì‹œ í† í° ë¸”ë¡ë¦¬ìŠ¤íŠ¸ ë“±ë¡â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**12_token_events.png - í† í° ì´ë²¤íŠ¸ (ë§Œë£Œ ëŒ€ì‘)**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] í† í° ìë™ ê°±ì‹  - ë§Œë£Œ ëŒ€ì‘

[ë³¸ë¬¸]
â€¢ Events by Type:
  - TOKEN_ISSUED: í† í° ë°œê¸‰ ì´ë²¤íŠ¸
  - TOKEN_DENIED: í† í° ê±°ë¶€ ì´ë²¤íŠ¸
  - VALIDATION_OK: í† í° ê²€ì¦ ì„±ê³µ

â€¢ ë§Œë£Œ ëŒ€ì‘ ë©”ì»¤ë‹ˆì¦˜:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent í† í° ìë™ ê°±ì‹  ë¡œì§                  â”‚
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
  â”‚  1. í† í° ë°œê¸‰ (TTL: 15ë¶„)                   â”‚
  â”‚  2. 80% ì‹œì  (12ë¶„) ë„ë‹¬ ì‹œ                 â”‚
  â”‚  3. ìƒˆ í† í° ìë™ ìš”ì²­                       â”‚
  â”‚  4. TOKEN_ISSUED ì´ë²¤íŠ¸ ë°œìƒ                â”‚
  â”‚  5. ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ í† í° êµì²´              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ìŠ¤í¬ë¦°ìƒ·ì—ì„œ í™•ì¸:
  - TOKEN_ISSUED ì´ë²¤íŠ¸ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë°œìƒ
  - ëŠê¹€ ì—†ì´ ì—°ì†ì ì¸ í† í° ë°œê¸‰ = ìë™ ê°±ì‹  ì •ìƒ ë™ì‘

â€¢ êµ¬í˜„ ì½”ë“œ (services/agent/agent/run.py:87):
  if time_since_issue > (ttl * 0.8):
      token = get_token(...)  # ìë™ ê°±ì‹ 
```

**26_security_incidents.png - ë³´ì•ˆ ì¸ì‹œë˜íŠ¸ (íê¸° ëŒ€ì‘)**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] íê¸° ë””ë°”ì´ìŠ¤ ì ‘ê·¼ ì°¨ë‹¨ - íê¸° ëŒ€ì‘

[ë³¸ë¬¸]
â€¢ Security Incidents ëª©ë¡:
  - REVOKED_ACCESS_ATTEMPT: íê¸°ëœ ë””ë°”ì´ìŠ¤ ì ‘ê·¼ ì‹œë„
  - AUTH_FAILURE_BURST: ì¸ì¦ ì‹¤íŒ¨ ê¸‰ì¦ (Brute Force íƒì§€)

â€¢ íê¸° ëŒ€ì‘ ì‹œë‚˜ë¦¬ì˜¤:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  1. ë””ë°”ì´ìŠ¤ íê¸° (Revoke ë²„íŠ¼)             â”‚
  â”‚  2. í•´ë‹¹ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í† í° ë¸”ë¡ë¦¬ìŠ¤íŠ¸ ë“±ë¡  â”‚
  â”‚  3. íê¸° ë””ë°”ì´ìŠ¤ ì ‘ê·¼ ì‹œë„ ì‹œ              â”‚
  â”‚     â†’ 403 Forbidden ë°˜í™˜                   â”‚
  â”‚     â†’ REVOKED_ACCESS_ATTEMPT ì¸ì‹œë˜íŠ¸ ìƒì„± â”‚
  â”‚  4. ê´€ë¦¬ì ì•Œë¦¼ ë° ë¡œê¹…                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§:
  - ëª¨ë“  íê¸° ë””ë°”ì´ìŠ¤ ì ‘ê·¼ ì‹œë„ ì¶”ì 
  - ì´ìƒ íŒ¨í„´ ì¦‰ì‹œ ê°ì§€ ë° ëŒ€ì‘
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- **ìŠ¤ì½”í”„ ì •ì˜**: sub(ë„¤ì„ìŠ¤í˜ì´ìŠ¤), roles(agent), aud(edge-agents) â†’ `10_jwt_security_status.png`
- **TTL ì •ì˜**: 900ì´ˆ (15ë¶„) â†’ `10_jwt_security_status.png`
- **ë§Œë£Œ ëŒ€ì‘**: 80% ì‹œì (12ë¶„) ìë™ ê°±ì‹ , TOKEN_ISSUED ì´ë²¤íŠ¸ë¡œ í™•ì¸ â†’ `12_token_events.png`
- **íƒˆì·¨ ëŒ€ì‘**: ì§§ì€ TTL + Blocked Tokensë¡œ ì¦‰ì‹œ ë¬´íš¨í™” â†’ `10_jwt_security_status.png`
- **íê¸° ëŒ€ì‘**: Revoke ì‹œ ì¦‰ì‹œ ì°¨ë‹¨ + REVOKED_ACCESS_ATTEMPT ì¸ì‹œë˜íŠ¸ ê¸°ë¡ â†’ `26_security_incidents.png`

---

### 1-4. ì¸ê°€(RBAC) ë° ë¬´ê²°ì„±/ì „ì†¡ ë³´ì•ˆ ê¸°ì¤€ ìˆ˜ë¦½

**Role(ì—­í• )/ë¦¬ì†ŒìŠ¤ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤, ê³ ìœ„í—˜ ëª…ë ¹ HMAC/ì„œëª… ê°•ì œ**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](13_rbac_matrix.png) | RBAC Permission Matrix (admin/agent ì—­í• ) |
| ![](14_hmac_algorithm.png) | HMAC Algorithm: SHA-256 |
| ![](15_test_rbac.png) | RBAC í…ŒìŠ¤íŠ¸ ê²°ê³¼ |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**13_rbac_matrix.png - RBAC ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Role-Based Access Control (RBAC) êµ¬í˜„

[ë³¸ë¬¸]
â€¢ ì—­í•  ì •ì˜:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Role   â”‚  í—ˆìš©ëœ API ê²½ë¡œ                   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  admin  â”‚  /* (ëª¨ë“  ê²½ë¡œ ì ‘ê·¼ ê°€ëŠ¥)          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  agent  â”‚  /device/register                  â”‚
  â”‚         â”‚  /auth/token                       â”‚
  â”‚         â”‚  /auth/validate                    â”‚
  â”‚         â”‚  /cert/status                      â”‚
  â”‚         â”‚  /healthz                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ìµœì†Œ ê¶Œí•œ ì›ì¹™ (Principle of Least Privilege):
  - AgentëŠ” í•„ìˆ˜ APIë§Œ ì ‘ê·¼ ê°€ëŠ¥
  - ê´€ë¦¬ ê¸°ëŠ¥(/device/approve, /cert/revoke)ì€ adminë§Œ ì‚¬ìš©

â€¢ ë³´ì•ˆ íš¨ê³¼: íƒˆì·¨ëœ Agent ì¸ì¦ì„œë¡œ ì¸í•œ í”¼í•´ ë²”ìœ„ ì œí•œ
```

**14_hmac_algorithm.png - ê³ ìœ„í—˜ ëª…ë ¹ HMAC ì„œëª… ê°•ì œ**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ê³ ìœ„í—˜ ëª…ë ¹ HMAC ì„œëª… ê°•ì œ - ì½”ë“œ êµ¬í˜„

[ë³¸ë¬¸]
â€¢ Checklist í˜ì´ì§€ > "HMAC-SHA256 message signing" ì½”ë“œ ì„¹ì…˜

â€¢ êµ¬í˜„ ì½”ë“œ (services/manager/manager/main.py:318):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  import hmac                                â”‚
  â”‚  import hashlib                             â”‚
  â”‚                                             â”‚
  â”‚  HMAC_SECRET = os.getenv("HMAC_SECRET",    â”‚
  â”‚                secrets.token_hex(32))       â”‚
  â”‚                                             â”‚
  â”‚  def compute_hmac(payload: str) -> str:    â”‚
  â”‚      """HMAC-SHA256 ì„œëª… ê³„ì‚°"""           â”‚
  â”‚      return hmac.new(                       â”‚
  â”‚          HMAC_SECRET.encode(),  # ë¹„ë°€í‚¤   â”‚
  â”‚          payload.encode(),      # ë©”ì‹œì§€   â”‚
  â”‚          hashlib.sha256         # ì•Œê³ ë¦¬ì¦˜ â”‚
  â”‚      ).hexdigest()                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì ìš© ëŒ€ìƒ (ê³ ìœ„í—˜ ëª…ë ¹):
  - ë””ë°”ì´ìŠ¤ ìŠ¹ì¸/íê¸° ì‘ì—…
  - ì¸ì¦ì„œ ë°œê¸‰/íê¸° ì‘ì—…
  - JWT ì‹œí¬ë¦¿ ë¡œí…Œì´ì…˜
  - ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•œ ëª¨ë“  ì‘ì—…

â€¢ ë³´ì•ˆ íš¨ê³¼:
  - ë©”ì‹œì§€ ìœ„ë³€ì¡° ë°©ì§€
  - ê³ ìœ„í—˜ ëª…ë ¹ ë¬´ê²°ì„± ë³´ì¥
  - ì¤‘ê°„ì ê³µê²© íƒì§€
```

**15_test_rbac.png - RBAC í…ŒìŠ¤íŠ¸ ê²°ê³¼**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] RBAC ì •ì±… í…ŒìŠ¤íŠ¸ ê²€ì¦

[ë³¸ë¬¸]
â€¢ Auth Module APIs í…ŒìŠ¤íŠ¸ ê²°ê³¼:
  - Admin auth required: admin í† í° ì—†ì´ approve ì‹œë„ â†’ 401 âœ“
  - Token for approved device: ìŠ¹ì¸ëœ ë””ë°”ì´ìŠ¤ í† í° ë°œê¸‰ â†’ 200 âœ“
  - Token for non-existent: ë¯¸ë“±ë¡ ë””ë°”ì´ìŠ¤ ê±°ë¶€ â†’ 404 âœ“

â€¢ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:
  1. Agent ì—­í• ë¡œ /device/approve í˜¸ì¶œ â†’ ê±°ë¶€ë¨ âœ“
  2. Admin í† í° ì—†ì´ ê´€ë¦¬ API í˜¸ì¶œ â†’ 401 Unauthorized âœ“
  3. ì •ìƒ ê¶Œí•œìœ¼ë¡œ API í˜¸ì¶œ â†’ ì„±ê³µ âœ“

â€¢ ê²°ë¡ : RBAC ì •ì±…ì´ ì„¤ê³„ëŒ€ë¡œ ë™ì‘í•¨
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- admin ì—­í• : ì „ì²´ ê²½ë¡œ ì ‘ê·¼
- agent ì—­í• : /device/register, /auth/token ë“± ì œí•œëœ ê²½ë¡œë§Œ
- HMAC-SHA256ìœ¼ë¡œ ë©”ì‹œì§€ ë¬´ê²°ì„± ë³´ì¥

---

### 1-5. ë¹„ë°€ê°’Â·ì•”í˜¸í™”í‚¤ ìˆ˜ëª…ì£¼ê¸° ê´€ë¦¬ ì •ì±… í™•ì •

---

#### 1-5-1. ë£¨íŠ¸/ì¤‘ê°„ CA ì—°ë™

**2ê³„ì¸µ PKI êµ¬ì¡°: Root CA â†’ Intermediate CA â†’ Leaf Certificates**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](53_intermediate_ca_code.png) | Intermediate CA ê³„ì¸µ êµ¬ì¡° ì½”ë“œ (Checklist í˜ì´ì§€) |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**53_intermediate_ca_code.png - ë£¨íŠ¸/ì¤‘ê°„ CA ê³„ì¸µ êµ¬ì¡°**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] PKI 2ê³„ì¸µ êµ¬ì¡° - Root/Intermediate CA ì—°ë™

[ë³¸ë¬¸]
â€¢ Checklist í˜ì´ì§€ > "Intermediate CA" ì½”ë“œ ì„¹ì…˜

â€¢ 2ê³„ì¸µ PKI êµ¬ì¡°:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Root CA (10ë…„, path_length=1)             â”‚
  â”‚    â””â”€â”€ Intermediate CA (5ë…„, path_length=0)â”‚
  â”‚          â””â”€â”€ Leaf Certificates (825ì¼)     â”‚
  â”‚               - Manager Server Cert        â”‚
  â”‚               - Agent Client Cert          â”‚
  â”‚               - Admin Client Cert          â”‚
  â”‚               - RabbitMQ Server Cert       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ êµ¬í˜„ ì½”ë“œ (ops/gen_certs.py):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  # Root CA ìƒì„±                            â”‚
  â”‚  root_key, root_cert = _mk_ca(             â”‚
  â”‚    "edge-root-ca", days=3650, path_len=1)  â”‚
  â”‚                                             â”‚
  â”‚  # Intermediate CA ìƒì„± (Rootë¡œ ì„œëª…)      â”‚
  â”‚  inter_key, inter_cert = _mk_intermediate( â”‚
  â”‚    "edge-intermediate-ca",                 â”‚
  â”‚    root_key, root_cert, days=1825)         â”‚
  â”‚                                             â”‚
  â”‚  # ëª¨ë“  Leaf ì¸ì¦ì„œëŠ” Intermediateë¡œ ì„œëª…  â”‚
  â”‚  leaf_cert = builder.sign(inter_key, ...)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë³´ì•ˆ íš¨ê³¼:
  - Root CA ì˜¤í”„ë¼ì¸ ë³´ê´€ ê°€ëŠ¥ (Intermediateë§Œ ì˜¨ë¼ì¸)
  - Intermediate ìœ ì¶œ ì‹œ Rootë¡œ ìƒˆ Intermediate ë°œê¸‰
  - ì¸ì¦ì„œ ì²´ì¸ ê²€ì¦ìœ¼ë¡œ ìœ„ì¡° ë°©ì§€
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- Root CA (10ë…„) â†’ Intermediate CA (5ë…„) â†’ Leaf (825ì¼) ê³„ì¸µ êµ¬ì¡°
- Intermediate CAê°€ ëª¨ë“  Leaf ì¸ì¦ì„œ ì„œëª…
- Root CA ì˜¤í”„ë¼ì¸ ë³´ê´€ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”

---

#### 1-5-2. CRL/OCSP

**ì¸ì¦ì„œ íê¸° í™•ì¸ - ë°°ì¹˜(CRL) + ì‹¤ì‹œê°„(OCSP)**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](54_crl_ocsp_section.png) | CRL/OCSP ì¸ì¦ì„œ íê¸° í™•ì¸ ëŒ€ì‹œë³´ë“œ |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (1í˜ì´ì§€)

```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¸ì¦ì„œ íê¸° í™•ì¸ - CRL & OCSP

[ë³¸ë¬¸]
â€¢ CRL (Certificate Revocation List)
  - íê¸°ëœ ì¸ì¦ì„œ ì „ì²´ ëª©ë¡ì„ ê´€ë¦¬í•˜ëŠ” ë°©ì‹
  - ë””ë°”ì´ìŠ¤ Revoke ì‹œ ìë™ìœ¼ë¡œ CRLì— ë“±ë¡ë¨
  - ëŒ€ì‹œë³´ë“œì—ì„œ í˜„ì¬ íê¸°ëœ ì¸ì¦ì„œ ìˆ˜ì™€ ëª©ë¡ í™•ì¸ ê°€ëŠ¥

â€¢ OCSP (Online Certificate Status Protocol)
  - íŠ¹ì • ì¸ì¦ì„œì˜ ìœ íš¨ ì—¬ë¶€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¡°íšŒí•˜ëŠ” ë°©ì‹
  - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì…ë ¥ ì‹œ ì¦‰ì‹œ ìƒíƒœ í™•ì¸ (GOOD/REVOKED/UNKNOWN)
  - ëŒ€ì‹œë³´ë“œì—ì„œ ê²€ì¦í•  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì…ë ¥ í›„ ê²°ê³¼ ì¦‰ì‹œ í‘œì‹œ

[ìŠ¤í¬ë¦°ìƒ· ì„¤ëª…]
- ì¢Œì¸¡: CRL - íê¸°ëœ ì¸ì¦ì„œ ìˆ˜ í‘œì‹œ
- ìš°ì¸¡: OCSP - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì…ë ¥ì°½ê³¼ ì‹¤ì‹œê°„ ê²€ì¦ ê²°ê³¼
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- CRL: íê¸° ëª©ë¡ ì¼ê´„ ì¡°íšŒ, OCSP: ê°œë³„ ì‹¤ì‹œê°„ ê²€ì¦
- ë””ë°”ì´ìŠ¤ Revoke ì‹œ CRL/OCSP ëª¨ë‘ ì¦‰ì‹œ ë°˜ì˜

---

#### 1-5-3. ë¬´ì¤‘ë‹¨ ë¹„ë°€ê°’Â·ì•”í˜¸í™”í‚¤ ë¡œí…Œì´ì…˜

**ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ JWT ì‹œí¬ë¦¿ ë° ì•”í˜¸í™”í‚¤ êµì²´**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](18_last_rotation.png) | JWT Secret Rotation í˜„í™© |
| ![](19_security_config.png) | Security Config (JWT/CRL ì¢…í•©) |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**18_last_rotation.png - JWT ì‹œí¬ë¦¿ ë¬´ì¤‘ë‹¨ ë¡œí…Œì´ì…˜**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë¬´ì¤‘ë‹¨ JWT ì‹œí¬ë¦¿ ë¡œí…Œì´ì…˜

[ë³¸ë¬¸]
â€¢ Last JWT Secret Rotation:
  - ë§ˆì§€ë§‰ ë¡œí…Œì´ì…˜ ì‹œê° í‘œì‹œ
  - Grace Period: 120ì´ˆ

â€¢ ë¬´ì¤‘ë‹¨ ë¡œí…Œì´ì…˜ ë©”ì»¤ë‹ˆì¦˜:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  [ì‹œê°„ 0ì´ˆ]  ìƒˆ ì‹œí¬ë¦¿ ìƒì„±                 â”‚
  â”‚       â†“                                     â”‚
  â”‚  [0~120ì´ˆ]  êµ¬/ì‹  ì‹œí¬ë¦¿ ëª¨ë‘ ìœ íš¨          â”‚
  â”‚       â†“     (ê¸°ì¡´ í† í° ê³„ì† ê²€ì¦ ê°€ëŠ¥)      â”‚
  â”‚  [120ì´ˆ í›„] êµ¬ ì‹œí¬ë¦¿ íê¸°                  â”‚
  â”‚       â†“     (ì‹ ê·œ í† í°ë§Œ ë°œê¸‰)              â”‚
  â”‚  [TTL ë§Œë£Œ] ê¸°ì¡´ í† í° ìì—° ë§Œë£Œ             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë¡œí…Œì´ì…˜ API:
  POST /admin/rotate-jwt-secret
  - ê´€ë¦¬ì ê¶Œí•œ í•„ìš” (X-Admin-Token)
  - ì¦‰ì‹œ ìƒˆ ì‹œí¬ë¦¿ í™œì„±í™”
  - Grace period ë™ì•ˆ ì„œë¹„ìŠ¤ ë¬´ì¤‘ë‹¨

â€¢ ë³´ì•ˆ íš¨ê³¼:
  - ì‹œí¬ë¦¿ ìœ ì¶œ ì‹œ ì¦‰ì‹œ êµì²´ ê°€ëŠ¥
  - ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ í‚¤ êµì²´
  - ê¸°ì¡´ í† í° ì ì§„ì  ë§Œë£Œ (ìµœëŒ€ 15ë¶„)
```

**19_security_config.png - ë³´ì•ˆ ì„¤ì • ì¢…í•© í˜„í™©**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì•”í˜¸í™”í‚¤ ìˆ˜ëª…ì£¼ê¸° ê´€ë¦¬ ì¢…í•©

[ë³¸ë¬¸]
â€¢ JWT Configuration:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Algorithm: HS256 (HMAC-SHA256)            â”‚
  â”‚  TTL: 900ì´ˆ (15ë¶„)                         â”‚
  â”‚  Issuer: edge-auth-manager                 â”‚
  â”‚  Audience: edge-agents                     â”‚
  â”‚  Secret Rotation: Grace Period 120ì´ˆ       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ CRL Configuration:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Revoked Certs Count: íê¸°ëœ ì¸ì¦ì„œ ìˆ˜     â”‚
  â”‚  Last CRL Update: ë§ˆì§€ë§‰ CRL ê°±ì‹  ì‹œê°     â”‚
  â”‚  CRL Endpoint: GET /cert/crl               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ í‚¤ ìˆ˜ëª…ì£¼ê¸° ìš”ì•½:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  í‚¤ ìœ í˜•       â”‚  ìˆ˜ëª…     â”‚  ë¡œí…Œì´ì…˜ ë°©ì‹   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  Root CA       â”‚  10ë…„     â”‚  ìˆ˜ë™ (ì˜¤í”„ë¼ì¸) â”‚
  â”‚  Intermediate  â”‚  5ë…„      â”‚  ìˆ˜ë™ (ê³„íš)     â”‚
  â”‚  Leaf Cert     â”‚  825ì¼    â”‚  ìë™ ê°±ì‹        â”‚
  â”‚  JWT Secret    â”‚  ë¬´ê¸°í•œ*  â”‚  ë¬´ì¤‘ë‹¨ (120ì´ˆ)  â”‚
  â”‚  HMAC Secret   â”‚  ë¬´ê¸°í•œ*  â”‚  ë¬´ì¤‘ë‹¨          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  * ë³´ì•ˆ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì¦‰ì‹œ ë¡œí…Œì´ì…˜ ê¶Œì¥
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- JWT ì‹œí¬ë¦¿: 120ì´ˆ grace periodë¡œ ë¬´ì¤‘ë‹¨ ë¡œí…Œì´ì…˜
- POST /admin/rotate-jwt-secret APIë¡œ ì¦‰ì‹œ êµì²´
- í‚¤ ìœ í˜•ë³„ ìˆ˜ëª… ë° ë¡œí…Œì´ì…˜ ë°©ì‹ ì •ì˜

---

### 1-6. Agent / Gateway / Manager 3ê³„ì¸µ ì»´í¬ë„ŒíŠ¸ ëª¨ë¸ ì •ì˜

---

#### 1-6-1. Agent (ì—£ì§€ ë””ë°”ì´ìŠ¤)

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](55_agent_amqp_code.png) | Agent TLS-secured AMQP ì—°ê²° ì½”ë“œ |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (1í˜ì´ì§€)

```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Agent - ì—£ì§€ ë””ë°”ì´ìŠ¤ ë³´ì•ˆ ëª¨ë“ˆ

[ë³¸ë¬¸]
â€¢ Agentë€?
  - ì—£ì§€ ë””ë°”ì´ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²½ëŸ‰ ë³´ì•ˆ ëª¨ë“ˆ
  - Python ê¸°ë°˜, ìµœì†Œ ì˜ì¡´ì„±ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì 

â€¢ ì£¼ìš” ê¸°ëŠ¥:
  - ë””ë°”ì´ìŠ¤ ë“±ë¡: Managerì— ë””ë°”ì´ìŠ¤ ì •ë³´ ì „ì†¡
  - í† í° ê´€ë¦¬: JWT í† í° ë°œê¸‰ ë° 80% ì‹œì  ìë™ ê°±ì‹ 
  - ë©”íƒ€ë°ì´í„° ë°œí–‰: RabbitMQë¡œ ì£¼ê¸°ì  ìƒíƒœ ì •ë³´ ì „ì†¡

â€¢ ë©”ì‹œì§€ë²„ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë° ë°”ì¸ë”©:
  - ë°œí–‰ ëŒ€ìƒ: agent.metadata í
  - ë°”ì¸ë”© ê¶Œí•œ: Writeë§Œ í—ˆìš© (ì½ê¸°/ì„¤ì • ë¶ˆê°€)
  - ë©”ì‹œì§€ í˜•ì‹: JSON (ë””ë°”ì´ìŠ¤ ìƒíƒœ, íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨)

[ìŠ¤í¬ë¦°ìƒ·: Checklist > TLS-secured AMQP connection ì½”ë“œ]
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- ì—£ì§€ ë””ë°”ì´ìŠ¤ì—ì„œ ì‹¤í–‰, agent.metadata íë¡œ ë©”ì‹œì§€ ë°œí–‰
- TLS ì•”í˜¸í™” ì—°ê²°, SecurePublisher í´ë˜ìŠ¤ ì‚¬ìš©

---

#### 1-6-2. Gateway (RabbitMQ ë©”ì‹œì§€ ë¸Œë¡œì»¤)

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](56_gateway_rabbitmq.png) | RabbitMQ Management ëŒ€ì‹œë³´ë“œ |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (1í˜ì´ì§€)

```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Gateway - RabbitMQ ë©”ì‹œì§€ ë¸Œë¡œì»¤

[ë³¸ë¬¸]
â€¢ Gatewayë€?
  - Agentì™€ Backend ì‚¬ì´ì˜ ë©”ì‹œì§€ ì¤‘ê³„ ì—­í• 
  - RabbitMQ ê¸°ë°˜ ë¹„ë™ê¸° ë©”ì‹œì§€ ë¸Œë¡œì»¤

â€¢ ì£¼ìš” ê¸°ëŠ¥:
  - TLS ì•”í˜¸í™” í†µì‹  (í¬íŠ¸ 5671, í‰ë¬¸ TCP ë¹„í™œì„±í™”)
  - agent.metadata íë¥¼ í†µí•œ ë©”íƒ€ë°ì´í„° ìˆ˜ì§‘
  - ë©”ì‹œì§€ ì˜ì†ì„± (durable queue)ìœ¼ë¡œ ë°ì´í„° ë³´ì¡´

â€¢ ë©”ì‹œì§€ë²„ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë° ë°”ì¸ë”© ì •ì±…:
  - í ì´ë¦„: agent.metadata (durable)
  - ë°”ì¸ë”© ì •ê·œì‹: ^agent\.metadata$
  - ê¶Œí•œ ì„¤ì •: Configure/Write/Read ëª¨ë‘ ë™ì¼ ì •ê·œì‹ ì ìš©
  - íš¨ê³¼: AgentëŠ” í•´ë‹¹ íì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥, ë‹¤ë¥¸ í ìƒì„±/ì ‘ê·¼ ì°¨ë‹¨

[ìŠ¤í¬ë¦°ìƒ·: RabbitMQ Management ëŒ€ì‹œë³´ë“œ]
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- agent.metadata íë¡œ ë©”ì‹œì§€ ì¤‘ê³„, ë°”ì¸ë”© ì •ê·œì‹ìœ¼ë¡œ ì ‘ê·¼ ì œí•œ
- TLS ì „ìš©, guest ì‚­ì œ, edge-agent ì „ìš© ê³„ì • ì‚¬ìš©

---

#### 1-6-3. Manager (ì¸ì¦/ì¸ê°€ API ì„œë²„)

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](57_manager_overview.png) | Manager ì‹œìŠ¤í…œ Overview ëŒ€ì‹œë³´ë“œ |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (1í˜ì´ì§€)

```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Manager - ì¸ì¦/ì¸ê°€ API ì„œë²„

[ë³¸ë¬¸]
â€¢ Managerë€?
  - ì „ì²´ ì‹œìŠ¤í…œì˜ ì¸ì¦/ì¸ê°€ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì¤‘ì•™ API ì„œë²„
  - FastAPI ê¸°ë°˜ HTTPS ì „ìš© ì„œë²„ (í¬íŠ¸ 8443)

â€¢ ì£¼ìš” ê¸°ëŠ¥:
  - ë””ë°”ì´ìŠ¤ ê´€ë¦¬: ë“±ë¡, ìŠ¹ì¸, íê¸°, ì–‘ë„
  - í† í° ë°œê¸‰: JWT í† í° ìƒì„± ë° ê²€ì¦
  - ì¸ì¦ì„œ ê´€ë¦¬: ë°œê¸‰, ê°±ì‹ , íê¸°, CRL/OCSP

â€¢ ë©”ì‹œì§€ë²„ìŠ¤ ì—°ë™:
  - ì—­í• : ë©”ì‹œì§€ êµ¬ë…ì (Consumer)
  - agent.metadata íì—ì„œ ë””ë°”ì´ìŠ¤ ìƒíƒœ ì •ë³´ ìˆ˜ì‹ 
  - ìˆ˜ì‹  ë°ì´í„°ë¡œ last_seen íƒ€ì„ìŠ¤íƒ¬í”„ ì—…ë°ì´íŠ¸

[ìŠ¤í¬ë¦°ìƒ·: Overview í˜ì´ì§€ - ì‹œìŠ¤í…œ ì „ì²´ í˜„í™©]
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- ì¸ì¦/ì¸ê°€/ì¸ì¦ì„œ ê´€ë¦¬ì˜ ì¤‘ì•™ API ì„œë²„
- agent.metadata í êµ¬ë…í•˜ì—¬ ë””ë°”ì´ìŠ¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§

---

### 1-7. ì¸ì¦Â·ë°ì´í„° íë¦„ ì‹œí€€ìŠ¤ ì„¤ê³„

**ë¶€íŠ¸â†’ë“±ë¡â†’ìŠ¹ì¸â†’ì¸ì¦â†’ê¶Œí•œë¶€ì—¬â†’ë°ì´í„°êµí™˜ ì „ì²´ íë¦„**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](61_auth_flow_sequence.png) | Agent-Manager-RabbitMQ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ |
| ![](62_sequence_legend.png) | ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ë²”ë¡€ (í™”ì‚´í‘œ/ì»´í¬ë„ŒíŠ¸ ì„¤ëª…) |
| ![](63_exception_flows.png) | ì˜ˆì™¸ íë¦„ë„ (ë§Œë£Œ/ì¤‘ë³µë“±ë¡/ë‹¨ì ˆ) |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (2í˜ì´ì§€)

**í˜ì´ì§€ 1: ì •ìƒ íë¦„**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¸ì¦Â·ë°ì´í„° íë¦„ ì‹œí€€ìŠ¤

[ë³¸ë¬¸]
â€¢ ì „ì²´ íë¦„:
  1. Boot - Agent ì‹œì‘, mTLS ì¸ì¦ì„œ ë¡œë“œ
  2. Register - POST /device/register â†’ status: PENDING
  3. Approve - Adminì´ POST /device/approve â†’ status: APPROVED
  4. Auth - POST /auth/token â†’ JWT í† í° ë°œê¸‰ (TTL: 900s)
  5. Authorization - Bearer Tokenìœ¼ë¡œ API ìš”ì²­ â†’ RBAC ê²€ì¦
  6. Data Exchange - AMQP Publish (TLS 5671) â†’ agent.metadata í

[ìŠ¤í¬ë¦°ìƒ·: 61_auth_flow_sequence.png + 62_sequence_legend.png]
```

**í˜ì´ì§€ 2: ì˜ˆì™¸ íë¦„**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì˜ˆì™¸ ì²˜ë¦¬ íë¦„

[ë³¸ë¬¸]
â€¢ í† í° ë§Œë£Œ: 80% ì‹œì (720ì´ˆ) ìë™ ê°±ì‹  â†’ ì„œë¹„ìŠ¤ ë¬´ì¤‘ë‹¨
â€¢ ì¤‘ë³µ ë“±ë¡:
  - ê°™ì€ fingerprint â†’ ë©±ë“±ì„± ì²˜ë¦¬ (200 OK)
  - ë‹¤ë¥¸ fingerprint â†’ 409 Conflict + ë³´ì•ˆ ì¸ì‹œë˜íŠ¸ ê¸°ë¡
â€¢ ì—°ê²° ë‹¨ì ˆ: ë¡œì»¬ ë²„í¼ ì €ì¥ â†’ ì¬ì—°ê²° (30íšŒ, Backoff) â†’ ë²„í¼ Flush

[ìŠ¤í¬ë¦°ìƒ·: 63_exception_flows.png]
```

**ì˜ˆì™¸ ì²˜ë¦¬ ì½”ë“œ ìŠ¤í¬ë¦°ìƒ·:**
| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](64_token_expiration_code.png) | í† í° ë§Œë£Œ ìë™ ê°±ì‹  ì½”ë“œ (80% TTL) |
| ![](65_duplicate_registration_code.png) | ì¤‘ë³µ ë“±ë¡ ì²˜ë¦¬ ì½”ë“œ (409 Conflict) |
| ![](66_connection_drop_code.png) | ì—°ê²° ë‹¨ì ˆ ì²˜ë¦¬ ì½”ë“œ (ë²„í¼ + ì¬ì—°ê²°) |

---

#### ğŸ“‹ ì˜ˆì™¸ ì²˜ë¦¬ ìƒì„¸ ì„¤ëª…

**64_token_expiration_code.png - í† í° ë§Œë£Œ ìë™ ê°±ì‹ **
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] í† í° ë§Œë£Œ ì˜ˆì™¸ ì²˜ë¦¬ - 80% TTL ìë™ ê°±ì‹ 

[ë³¸ë¬¸]
â€¢ ë¬¸ì œ ìƒí™©:
  - JWT í† í°ì€ ë³´ì•ˆìƒ ìœ íš¨ ê¸°ê°„(TTL)ì´ ì œí•œë¨ (ê¸°ë³¸ê°’: 900ì´ˆ = 15ë¶„)
  - í† í°ì´ ë§Œë£Œë˜ë©´ AgentëŠ” Manager APIì— ì ‘ê·¼ ë¶ˆê°€

â€¢ í•´ê²° ë°©ì‹:
  - Agentê°€ TTLì˜ 80% ì‹œì (720ì´ˆ = 12ë¶„)ì— ë„ë‹¬í•˜ë©´ ìë™ìœ¼ë¡œ ìƒˆ í† í° ìš”ì²­
  - ë§Œë£Œ ì§ì „ì´ ì•„ë‹Œ ì—¬ìœ  ìˆëŠ” ì‹œì ì— ê°±ì‹ 

â€¢ íš¨ê³¼:
  - ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ë‚˜ ì¼ì‹œì  ì¥ì• ê°€ ë°œìƒí•´ë„ ì„œë¹„ìŠ¤ ë¬´ì¤‘ë‹¨
  - ëŒ€ì‹œë³´ë“œì—ì„œ TOKEN_ISSUED ì´ë²¤íŠ¸ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ê²ƒìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥

â€¢ ì½”ë“œ ìœ„ì¹˜: services/agent/agent/run.py:87
```

**65_duplicate_registration_code.png - ì¤‘ë³µ ë“±ë¡ ì²˜ë¦¬**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¤‘ë³µ ë“±ë¡ ì˜ˆì™¸ ì²˜ë¦¬ - Fingerprint ê¸°ë°˜ íŒë³„

[ë³¸ë¬¸]
â€¢ ë¬¸ì œ ìƒí™©:
  - ë™ì¼í•œ namespace(domain/site/group/device_id)ë¡œ ì¤‘ë³µ ë“±ë¡ ìš”ì²­ ë°œìƒ
  - ì •ìƒì ì¸ ì¬ë“±ë¡ì¸ì§€, ì•…ì˜ì ì¸ ìŠ¤í‘¸í•‘ ê³µê²©ì¸ì§€ êµ¬ë¶„ í•„ìš”

â€¢ í•´ê²° ë°©ì‹ (2ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤):
  1. ê°™ì€ í•˜ë“œì›¨ì–´ Fingerprintì¸ ê²½ìš°:
     - ë™ì¼ ë””ë°”ì´ìŠ¤ì˜ ì¬ì‹œì‘/ë„¤íŠ¸ì›Œí¬ ì¬ì—°ê²°ë¡œ ì¸í•œ ì •ìƒ ì¬ë“±ë¡
     - ë©±ë“±ì„±(Idempotency) ë³´ì¥: 200 OK ë°˜í™˜, ê¸°ì¡´ ìƒíƒœ ìœ ì§€

  2. ë‹¤ë¥¸ í•˜ë“œì›¨ì–´ Fingerprintì¸ ê²½ìš°:
     - ë‹¤ë¥¸ ë¬¼ë¦¬ì  ë””ë°”ì´ìŠ¤ê°€ ë™ì¼ ID ì‚¬ìš© ì‹œë„ (ìŠ¤í‘¸í•‘ ì˜ì‹¬)
     - 409 Conflict ë°˜í™˜ + DUPLICATE_FINGERPRINT ë³´ì•ˆ ì¸ì‹œë˜íŠ¸ ê¸°ë¡

â€¢ íš¨ê³¼:
  - ì •ìƒ ì¬ë“±ë¡ì€ í—ˆìš©, ì•…ì˜ì  ì‹œë„ëŠ” ì°¨ë‹¨ ë° ê¸°ë¡
  - Security í˜ì´ì§€ì—ì„œ ì¸ì‹œë˜íŠ¸ ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥

â€¢ ì½”ë“œ ìœ„ì¹˜: services/manager/manager/main.py:217
```

**66_connection_drop_code.png - ì—°ê²° ë‹¨ì ˆ ì²˜ë¦¬**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì—°ê²° ë‹¨ì ˆ ì˜ˆì™¸ ì²˜ë¦¬ - 3ë‹¨ê³„ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜

[ë³¸ë¬¸]
â€¢ ë¬¸ì œ ìƒí™©:
  - ì—£ì§€ í™˜ê²½ì—ì„œ ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì •, ê²Œì´íŠ¸ì›¨ì´ ì¬ì‹œì‘, ì¸ì¦ì„œ ë¡œí…Œì´ì…˜ ë“±ìœ¼ë¡œ
    RabbitMQ ì—°ê²°ì´ ëŠì–´ì§ˆ ìˆ˜ ìˆìŒ
  - ì—°ê²° ë‹¨ì ˆ ì¤‘ ë°œìƒí•œ ë©”ì‹œì§€ ì†ì‹¤ ë°©ì§€ í•„ìš”

â€¢ í•´ê²° ë°©ì‹ (3ë‹¨ê³„ ë³µêµ¬):
  1. ë¡œì»¬ ë²„í¼ë§:
     - ì—°ê²° ëŠì–´ì§€ë©´ ë©”ì‹œì§€ë¥¼ ë¡œì»¬ íŒŒì¼(unsent.jsonl)ì— ì €ì¥
     - JSONL í˜•ì‹ìœ¼ë¡œ ë¶€ë¶„ ì“°ê¸° ì‹¤íŒ¨ì—ë„ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥

  2. ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì—°ê²°:
     - 0.5ì´ˆë¶€í„° ì‹œì‘, ìµœëŒ€ 20ì´ˆê¹Œì§€ ëŒ€ê¸° ì‹œê°„ ì¦ê°€
     - ìµœëŒ€ 30íšŒ ì¬ì—°ê²° ì‹œë„
     - Jitter ì¶”ê°€ë¡œ ì—¬ëŸ¬ Agent ë™ì‹œ ì¬ì—°ê²° ì‹œ ì„œë²„ ë¶€í•˜ ë¶„ì‚°

  3. ë²„í¼ í”ŒëŸ¬ì‹œ:
     - ì¬ì—°ê²° ì„±ê³µ ì‹œ ë¡œì»¬ ì €ì¥ ë©”ì‹œì§€ ìˆœì°¨ ì „ì†¡
     - í•œ ë²ˆì— ìµœëŒ€ 200ê°œì”© ì „ì†¡ (ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì œí•œ)

â€¢ íš¨ê³¼:
  - ì¥ì‹œê°„ ë„¤íŠ¸ì›Œí¬ ë‹¨ì ˆì—ì„œë„ ë°ì´í„° ë¬´ì†ì‹¤ ë³´ì¥
  - í‚¤ ë¡œí…Œì´ì…˜ ì‹œì—ë„ ì„œë¹„ìŠ¤ ì—°ì†ì„± ìœ ì§€

â€¢ ì½”ë“œ ìœ„ì¹˜: services/agent/agent/amqp_pub.py:47-77
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- Boot â†’ Register â†’ Approve â†’ Auth â†’ Authorization â†’ Data Exchange ìˆœì„œ
- ì˜ˆì™¸ ìƒí™©ì—ì„œë„ ë°ì´í„° ë¬´ì†ì‹¤ ë³´ì¥

---

### 1-8. ìš´ì˜/ê´€ì°°ì„± êµ¬ì¡° ë°˜ì˜

---

#### 1-8-1. StatelessÂ·ì˜¤í† ìŠ¤ì¼€ì¼ ê³ ë ¤

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](67_autoscale_architecture.png) | Stateless ì˜¤í† ìŠ¤ì¼€ì¼ ì•„í‚¤í…ì²˜ íë¦„ë„ |
| ![](08_test_mtls.png) | mTLS healthcheck í…ŒìŠ¤íŠ¸ (/healthz â†’ 200, ok=True) |
| ![](51_checklist_container_code.png) | Docker ì»¨í…Œì´ë„ˆ/ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ì½”ë“œ |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (1í˜ì´ì§€)

```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Stateless ì„¤ê³„ ë° ì˜¤í† ìŠ¤ì¼€ì¼ ì§€ì›

[ë³¸ë¬¸]
â€¢ Stateless ì•„í‚¤í…ì²˜:
  - Manager ì„œë¹„ìŠ¤ëŠ” ë¡œì»¬ ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŒ
  - ëª¨ë“  ìƒíƒœëŠ” ì™¸ë¶€ ì €ì¥ì†Œ(SQLite/PostgreSQL)ì— ë³´ê´€
  - ì„¸ì…˜ ì •ë³´ ì—†ìŒ - JWT í† í°ìœ¼ë¡œ ì¸ì¦ ìƒíƒœ ì „ë‹¬

â€¢ ì˜¤í† ìŠ¤ì¼€ì¼ ì§€ì› ì„¤ê³„:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Load Balancer                              â”‚
  â”‚       â†“                                     â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
  â”‚  â”‚Manager 1â”‚  â”‚Manager 2â”‚  â”‚Manager Nâ”‚     â”‚
  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚
  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
  â”‚                   â†“                         â”‚
  â”‚           External Database                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ (/healthz):
  - GET /healthz â†’ {"ok": true, "timestamp": "..."}
  - í…ŒìŠ¤íŠ¸ ê²°ê³¼: 200 ì‘ë‹µ + ok=True í™•ì¸ (08_test_mtls.png)
  - ë¡œë“œë°¸ëŸ°ì„œê°€ ì£¼ê¸°ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ í™•ì¸
  - ì‘ë‹µ ì‹¤íŒ¨ ì‹œ íŠ¸ë˜í”½ ìë™ ì œì™¸

â€¢ Docker ì»¨í…Œì´ë„ˆ êµ¬ì„±:
  - internal ë„¤íŠ¸ì›Œí¬: Agent â†” RabbitMQ (ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨)
  - external ë„¤íŠ¸ì›Œí¬: Dashboard â†” Manager (í˜¸ìŠ¤íŠ¸ ë…¸ì¶œ)
  - ì»¨í…Œì´ë„ˆ ë³µì œë§Œìœ¼ë¡œ ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥ (51_checklist_container_code.png)

â€¢ ìˆ˜í‰ í™•ì¥ ì‹œë‚˜ë¦¬ì˜¤:
  - íŠ¸ë˜í”½ ì¦ê°€ â†’ ì»¨í…Œì´ë„ˆ ë³µì œë³¸ ì¶”ê°€
  - ì¸ìŠ¤í„´ìŠ¤ ê°„ ìƒíƒœ ê³µìœ  ë¶ˆí•„ìš”
  - ë¬´ì¤‘ë‹¨ ë°°í¬ (Rolling Update) ê°€ëŠ¥

[ìŠ¤í¬ë¦°ìƒ·: mTLS healthcheck í…ŒìŠ¤íŠ¸ + Docker ë„¤íŠ¸ì›Œí¬ êµ¬ì„±]
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- Stateless: ë¡œì»¬ ìƒíƒœ ì—†ìŒ, ì™¸ë¶€ DB ì‚¬ìš©, JWT í† í° ê¸°ë°˜ ì¸ì¦
- /healthz í—¬ìŠ¤ì²´í¬: 200 + ok=True ì‘ë‹µìœ¼ë¡œ ë¡œë“œë°¸ëŸ°ì„œ ì—°ë™
- Docker ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬: internal/externalë¡œ ë³´ì•ˆ ê²©ë¦¬
- ì»¨í…Œì´ë„ˆ ë³µì œë§Œìœ¼ë¡œ ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥

---

#### 1-8-2. êµ¬ì¡°í™” ë¡œê·¸/ì§€í‘œ/ì¶”ì  í•„ìˆ˜ í•„ë“œ ê·œê²©

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](27_logs_page.png) | API Logs (êµ¬ì¡°í™” ë¡œê·¸) |
| ![](28_logs_filter.png) | Logs í•„í„° ì˜µì…˜ |

##### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª… (1í˜ì´ì§€)

```
[ìŠ¬ë¼ì´ë“œ ì œëª©] êµ¬ì¡°í™” ë¡œê·¸ ë° ë¶„ì‚° ì¶”ì 

[ë³¸ë¬¸]
â€¢ êµ¬ì¡°í™” ë¡œê·¸ í•„ìˆ˜ í•„ë“œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  {                                          â”‚
  â”‚    "timestamp": "2025-01-15T10:30:00Z",    â”‚
  â”‚    "method": "POST",                        â”‚
  â”‚    "path": "/auth/token",                   â”‚
  â”‚    "status": 200,                           â”‚
  â”‚    "latency_ms": 45,                        â”‚
  â”‚    "client_cn": "agent-001.local",          â”‚
  â”‚    "correlation_id": "abc-123-def"          â”‚
  â”‚  }                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ í•„ë“œë³„ ìš©ë„:
  - timestamp: ì´ë²¤íŠ¸ ë°œìƒ ì‹œê° (ISO 8601)
  - method/path/status: API ìš”ì²­ ì •ë³´
  - latency_ms: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ìš© ì‘ë‹µ ì‹œê°„
  - client_cn: mTLS í´ë¼ì´ì–¸íŠ¸ ì‹ë³„ (ë³´ì•ˆ ê°ì‚¬)
  - correlation_id: ë¶„ì‚° ì¶”ì  ID (X-Request-Id)

â€¢ ë©”íŠ¸ë¦­ìŠ¤ ì—”ë“œí¬ì¸íŠ¸:
  - /metrics/devices: ë””ë°”ì´ìŠ¤ í†µê³„
  - /metrics/auth: ì¸ì¦ ì„±ê³µ/ì‹¤íŒ¨ í†µê³„
  - /metrics/system: ì‹œìŠ¤í…œ ìƒíƒœ

â€¢ í™œìš© ì‹œë‚˜ë¦¬ì˜¤:
  - ì˜¤ë¥˜ ë¶„ì„: status=5xx í•„í„°ë¡œ ì„œë²„ ì˜¤ë¥˜ ì¶”ì 
  - ì„±ëŠ¥ ë¶„ì„: latency_ms ê¸°ì¤€ ëŠë¦° ìš”ì²­ ì‹ë³„
  - ë³´ì•ˆ ê°ì‚¬: client_cnìœ¼ë¡œ íŠ¹ì • ë””ë°”ì´ìŠ¤ í™œë™ ì¶”ì 
  - ë¶„ì‚° ì¶”ì : correlation_idë¡œ ì „ì²´ ìš”ì²­ íë¦„ íŒŒì•…

[ìŠ¤í¬ë¦°ìƒ·: API Logs í…Œì´ë¸” ë° í•„í„° ì˜µì…˜]
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- 7ê°œ í•„ìˆ˜ í•„ë“œ: timestamp, method, path, status, latency_ms, client_cn, correlation_id
- X-Request-Id(correlation_id)ë¡œ ë¶„ì‚° ì‹œìŠ¤í…œ ì „ì²´ ìš”ì²­ ì¶”ì 
- ë©”íŠ¸ë¦­ìŠ¤ ì—”ë“œí¬ì¸íŠ¸: /metrics/* (Prometheus ì—°ë™ ê°€ëŠ¥)

---

## 2. í•µì‹¬ ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œí† íƒ€ì… ê°œë°œ

### 2-1. ê²½ëŸ‰ ì—ì´ì „íŠ¸ ë³´ì•ˆ ëª¨ë“ˆ ê°œë°œ

**ë¹„ë™ê¸° ì´ë²¤íŠ¸ ë£¨í”„, ì¬ì‹œë„/ë°±ì˜¤í”„, mTLS í•¸ë“œì…°ì´í¬Â·ì„¸ì…˜ ìœ ì§€**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](30_device_registration.png) | ë“±ë¡ëœ ë””ë°”ì´ìŠ¤ ëª©ë¡ |
| ![](31_device_lastseen.png) | Last Seen (ë©”íƒ€ë°ì´í„° ì „ì†¡ í™•ì¸) |
| ![](32_test_registration.png) | Registration í…ŒìŠ¤íŠ¸ ê²°ê³¼ |
| ![](52_checklist_mtls_code.png) | mTLS í•¸ë“œì…°ì´í¬ ì½”ë“œ (ì„¸ì…˜ ìœ ì§€) |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**30_device_registration.png - ë“±ë¡ëœ ë””ë°”ì´ìŠ¤ í˜„í™©**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ê²½ëŸ‰ ì—ì´ì „íŠ¸ - ë””ë°”ì´ìŠ¤ ë“±ë¡ í˜„í™©

[ë³¸ë¬¸]
â€¢ ë“±ë¡ëœ ë””ë°”ì´ìŠ¤ ëª©ë¡:
  - agent-001, agent-002 ë“± í…ŒìŠ¤íŠ¸ ë””ë°”ì´ìŠ¤ í‘œì‹œ
  - Namespace: ê³„ì¸µì  ì‹ë³„ì
  - Status: í˜„ì¬ ìƒíƒœ (APPROVED/PENDING)
  - Agent Version: ì‹¤í–‰ ì¤‘ì¸ ì—ì´ì „íŠ¸ ë²„ì „

â€¢ ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent Security Module                      â”‚
  â”‚  â”œâ”€â”€ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ë£¨í”„ (asyncio)          â”‚
  â”‚  â”œâ”€â”€ mTLS í´ë¼ì´ì–¸íŠ¸ (httpx)               â”‚
  â”‚  â”œâ”€â”€ AMQP í¼ë¸”ë¦¬ì…” (aiormq)                â”‚
  â”‚  â””â”€â”€ ë¡œì»¬ ë²„í¼ (JsonlBuffer)               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ê²½ëŸ‰í™”: Python ê¸°ë°˜, ìµœì†Œ ì˜ì¡´ì„±
```

**31_device_lastseen.png - ë””ë°”ì´ìŠ¤ í™œë™ í˜„í™©**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì—ì´ì „íŠ¸ í™œë™ ëª¨ë‹ˆí„°ë§ - Last Seen

[ë³¸ë¬¸]
â€¢ Last Seen ì»¬ëŸ¼:
  - ë§ˆì§€ë§‰ í™œë™ ì‹œê° í‘œì‹œ
  - ë©”íƒ€ë°ì´í„° ì „ì†¡ ì—¬ë¶€ í™•ì¸ ê°€ëŠ¥

â€¢ í™œë™ ì¶”ì :
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent â†’ ì£¼ê¸°ì  ë©”íƒ€ë°ì´í„° ë°œí–‰ (30ì´ˆ)      â”‚
  â”‚       â†’ Managerì—ì„œ Last Seen ì—…ë°ì´íŠ¸     â”‚
  â”‚       â†’ Dashboardì—ì„œ ì‹¤ì‹œê°„ í™•ì¸          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë¹„í™œì„± ë””ë°”ì´ìŠ¤ íƒì§€:
  - Last Seen > 5ë¶„: ê²½ê³  í‘œì‹œ (ë…¸ë€ìƒ‰)
  - Last Seen > 30ë¶„: ìœ„í—˜ í‘œì‹œ (ë¹¨ê°„ìƒ‰)

â€¢ ë„¤íŠ¸ì›Œí¬ ë‹¨ì ˆ/ì¥ì•  ì¡°ê¸° íƒì§€ ê°€ëŠ¥
```

**32_test_registration.png - ë“±ë¡ í…ŒìŠ¤íŠ¸ ê²°ê³¼**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì—ì´ì „íŠ¸ ë“±ë¡ í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸

[ë³¸ë¬¸]
â€¢ Registration í…ŒìŠ¤íŠ¸ ê²°ê³¼:
  - Register device: ì •ìƒ ë“±ë¡ âœ“
  - Response structure: ì‘ë‹µ í•„ë“œ ê²€ì¦ âœ“
  - Namespace format: í˜•ì‹ ê²€ì¦ âœ“

â€¢ ë“±ë¡ API ëª…ì„¸:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  POST /device/register                     â”‚
  â”‚  Request:                                  â”‚
  â”‚    { "device_id": "agent-001",            â”‚
  â”‚      "site": "factory-A",                 â”‚
  â”‚      "group": "sensors",                  â”‚
  â”‚      "hw_fingerprint": "abc123..." }      â”‚
  â”‚  Response:                                 â”‚
  â”‚    { "namespace": "default/factory-A/...",â”‚
  â”‚      "status": "PENDING" }                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì¬ì‹œë„ ì •ì±…: 5íšŒ, 0.5s~8s ì§€ìˆ˜ ë°±ì˜¤í”„
```

**52_checklist_mtls_code.png - mTLS í•¸ë“œì…°ì´í¬ ì½”ë“œ**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] mTLS ìƒí˜¸ ì¸ì¦ - ì„¸ì…˜ ìœ ì§€ êµ¬í˜„

[ë³¸ë¬¸]
â€¢ Checklist í˜ì´ì§€ > mTLS handshake & session ì„¹ì…˜

â€¢ mTLS í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ (services/agent/agent/client.py):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  def _mtls_client(base_url, certs_dir):    â”‚
  â”‚    ca = "agent/ca.crt"      # ì„œë²„ ê²€ì¦    â”‚
  â”‚    crt = "agent/client.crt" # í´ë¼ì´ì–¸íŠ¸   â”‚
  â”‚    key = "agent/client.key" # ê°œì¸í‚¤       â”‚
  â”‚    return httpx.Client(                    â”‚
  â”‚      verify=ca,   # ì„œë²„ ì¸ì¦ì„œ ê²€ì¦       â”‚
  â”‚      cert=(crt, key)  # í´ë¼ì´ì–¸íŠ¸ ì¸ì¦    â”‚
  â”‚    )                                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ìƒí˜¸ ì¸ì¦ íë¦„:
  Agent â†’ ì„œë²„ ì¸ì¦ì„œ ê²€ì¦ (CAë¡œ)
  Manager â†’ í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ê²€ì¦ (CAë¡œ)

â€¢ ì„¸ì…˜ ìœ ì§€: httpx.Client ì¬ì‚¬ìš©ìœ¼ë¡œ TLS í•¸ë“œì…°ì´í¬ ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- ë¹„ë™ê¸° ì´ë²¤íŠ¸ ë£¨í”„ (asyncio)
- ì¬ì‹œë„/ë°±ì˜¤í”„ (tenacity): 5íšŒ, 0.5s~8s ì§€ìˆ˜ ë°±ì˜¤í”„
- mTLS í´ë¼ì´ì–¸íŠ¸ ì„¸ì…˜ ìœ ì§€ (httpx.Client)
- ìƒí˜¸ ì¸ì¦: í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ì–‘ë°©í–¥ ì¸ì¦ì„œ ê²€ì¦

---

### 2-2. ì¸ì¦ ëª¨ë“ˆ API ê°œë°œ

**/cert(ë°œê¸‰/ê°±ì‹ /íê¸°), /auth(token/validate)ì™€ ìŠ¹ì¸ ê²€ì¦**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](33_cert_actions.png) | Cert Actions (Issue, Renew ë²„íŠ¼) |
| ![](35_test_auth_apis.png) | Auth Module APIs í…ŒìŠ¤íŠ¸ ì „ì²´ |
| ![](36_auth_failure_analysis.png) | Failure Analysis |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**33_cert_actions.png - ì¸ì¦ì„œ ê´€ë¦¬ ì•¡ì…˜**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¸ì¦ì„œ ìƒëª…ì£¼ê¸° ê´€ë¦¬

[ë³¸ë¬¸]
â€¢ Certificate Actions:
  - Issue Cert: ì‹ ê·œ ì¸ì¦ì„œ ë°œê¸‰
  - Renew Cert: ë§Œë£Œ ì „ ì¸ì¦ì„œ ê°±ì‹ 

â€¢ ì¸ì¦ì„œ API ì—”ë“œí¬ì¸íŠ¸:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  API                  â”‚  ê¸°ëŠ¥                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  POST /cert/issue     â”‚  ì¸ì¦ì„œ ë°œê¸‰         â”‚
  â”‚  POST /cert/renew     â”‚  ì¸ì¦ì„œ ê°±ì‹          â”‚
  â”‚  POST /cert/revoke    â”‚  ì¸ì¦ì„œ íê¸°         â”‚
  â”‚  GET /cert/status     â”‚  ì¸ì¦ì„œ ìƒíƒœ ì¡°íšŒ    â”‚
  â”‚  GET /cert/crl        â”‚  íê¸° ëª©ë¡ ì¡°íšŒ      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë°œê¸‰ ì¡°ê±´: APPROVED ìƒíƒœ ë””ë°”ì´ìŠ¤ë§Œ ì¸ì¦ì„œ ë°œê¸‰ ê°€ëŠ¥
```

**35_test_auth_apis.png - ì¸ì¦ API í…ŒìŠ¤íŠ¸**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¸ì¦ ëª¨ë“ˆ API ì¢…í•© í…ŒìŠ¤íŠ¸

[ë³¸ë¬¸]
â€¢ Auth Module APIs í…ŒìŠ¤íŠ¸ ê²°ê³¼:
  - Approve device: ë””ë°”ì´ìŠ¤ ìŠ¹ì¸ âœ“
  - Token for approved: ìŠ¹ì¸ ë””ë°”ì´ìŠ¤ í† í° ë°œê¸‰ âœ“
  - Validate good token: ìœ íš¨ í† í° ê²€ì¦ âœ“
  - Validate bad token: ë¬´íš¨ í† í° ê±°ë¶€ âœ“
  - Token for revoked: íê¸° ë””ë°”ì´ìŠ¤ ê±°ë¶€ (403) âœ“
  - Admin auth required: ê´€ë¦¬ì ê¶Œí•œ ê²€ì¦ âœ“

â€¢ ì¸ì¦ API ì—”ë“œí¬ì¸íŠ¸:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  POST /auth/token     â”‚  JWT í† í° ë°œê¸‰       â”‚
  â”‚  POST /auth/validate  â”‚  í† í° ìœ íš¨ì„± ê²€ì¦    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë³´ì•ˆ ê²€ì¦: ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ ìë™í™” í…ŒìŠ¤íŠ¸ í†µê³¼
```

**36_auth_failure_analysis.png - ì¸ì¦ ì‹¤íŒ¨ ë¶„ì„**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¸ì¦ ì‹¤íŒ¨ ë¶„ì„ ëŒ€ì‹œë³´ë“œ

[ë³¸ë¬¸]
â€¢ Failure Analysis:
  - ì‹¤íŒ¨ ìœ í˜•ë³„ ë¶„ë¥˜
  - ì‹œê°„ëŒ€ë³„ ì‹¤íŒ¨ ì¶”ì´
  - ë””ë°”ì´ìŠ¤ë³„ ì‹¤íŒ¨ í†µê³„

â€¢ ì‹¤íŒ¨ ìœ í˜•:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ìœ í˜•                â”‚  ì›ì¸                â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  INVALID_TOKEN       â”‚  ë³€ì¡°/ë§Œë£Œ í† í°      â”‚
  â”‚  DEVICE_NOT_APPROVED â”‚  ë¯¸ìŠ¹ì¸ ë””ë°”ì´ìŠ¤     â”‚
  â”‚  DEVICE_REVOKED      â”‚  íê¸°ëœ ë””ë°”ì´ìŠ¤     â”‚
  â”‚  INVALID_CREDENTIALS â”‚  ì˜ëª»ëœ ì¸ì¦ ì •ë³´    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì‹¤íŒ¨ íŒ¨í„´ ë¶„ì„ìœ¼ë¡œ ë³´ì•ˆ ìœ„í˜‘ ì¡°ê¸° íƒì§€
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- /cert: issue, renew, revoke, status, crl
- /auth: token (JWT ë°œê¸‰), validate (ê²€ì¦)
- APPROVED ë””ë°”ì´ìŠ¤ë§Œ í† í° ë°œê¸‰

---

### 2-3. ë©”ì‹œì§€ë²„ìŠ¤ ë³´ì•ˆì±„ë„ ëª¨ë“ˆ ê°œë°œ

**TLS ì„¤ì •, í ë°”ì¸ë”©, ì¬ì ‘ì†/ë¯¸ì „ì†¡ ë²„í¼, í‚¤ êµì²´ ì¤‘ ì„œë¹„ìŠ¤ ì§€ì†**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](37_rabbitmq_tls.png) | RabbitMQ TLS Connections |
| ![](39_test_rmq_health.png) | RabbitMQ Health í…ŒìŠ¤íŠ¸ |
| ![](40_test_rmq_permissions.png) | RabbitMQ Permissions í…ŒìŠ¤íŠ¸ |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**37_rabbitmq_tls.png - RabbitMQ TLS ì—°ê²°**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë©”ì‹œì§€ ë²„ìŠ¤ TLS ë³´ì•ˆ ì±„ë„

[ë³¸ë¬¸]
â€¢ RabbitMQ Connections:
  - Protocol: AMQP 0-9-1 (TLS)
  - SSL: true (TLS ì•”í˜¸í™” í™œì„±í™”)
  - í‰ë¬¸ TCP ì—°ê²° ë¹„í™œì„±í™”

â€¢ TLS ì„¤ì • ìƒì„¸:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Port 5671: TLS AMQP (í™œì„±í™”)              â”‚
  â”‚  Port 5672: Plain TCP (ë¹„í™œì„±í™”)           â”‚
  â”‚  Client Certificate: í•„ìˆ˜                  â”‚
  â”‚  Verify Peer: true                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë³´ì•ˆ íš¨ê³¼:
  - ì „ì†¡ êµ¬ê°„ ì•”í˜¸í™”
  - í´ë¼ì´ì–¸íŠ¸ ì¸ì¦
  - ì¤‘ê°„ì ê³µê²© ë°©ì§€
```

**39_test_rmq_health.png - RabbitMQ ìƒíƒœ í…ŒìŠ¤íŠ¸**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë©”ì‹œì§€ ë²„ìŠ¤ í—¬ìŠ¤ì²´í¬

[ë³¸ë¬¸]
â€¢ RabbitMQ Health í…ŒìŠ¤íŠ¸:
  - /api/healthchecks/node â†’ status: ok âœ“
  - ì„œë¹„ìŠ¤ ì •ìƒ ë™ì‘ í™•ì¸

â€¢ ì¥ì•  ëŒ€ì‘ ë©”ì»¤ë‹ˆì¦˜:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ì—°ê²° ë‹¨ì ˆ ê°ì§€                            â”‚
  â”‚       â†“                                    â”‚
  â”‚  ë¡œì»¬ ë²„í¼ì— ë©”ì‹œì§€ ì €ì¥ (unsent.jsonl)    â”‚
  â”‚       â†“                                    â”‚
  â”‚  ìë™ ì¬ì—°ê²° ì‹œë„ (ìµœëŒ€ 30íšŒ, ì§€ìˆ˜ ë°±ì˜¤í”„) â”‚
  â”‚       â†“                                    â”‚
  â”‚  ì¬ì—°ê²° ì„±ê³µ ì‹œ ë²„í¼ í”ŒëŸ¬ì‹œ (200ê°œì”©)      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë©”ì‹œì§€ ë¬´ì†ì‹¤ ë³´ì¥
```

**40_test_rmq_permissions.png - RabbitMQ ê¶Œí•œ í…ŒìŠ¤íŠ¸**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ë©”ì‹œì§€ ë²„ìŠ¤ ê¶Œí•œ ê²€ì¦

[ë³¸ë¬¸]
â€¢ RabbitMQ Permissions í…ŒìŠ¤íŠ¸:
  - ì‚¬ìš©ì ê¶Œí•œ ì •ê·œì‹ ê²€ì¦ âœ“
  - í ì ‘ê·¼ ê¶Œí•œ í™•ì¸ âœ“

â€¢ ê¶Œí•œ ì„¤ì •:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  User: isl                                 â”‚
  â”‚  VHost: /                                  â”‚
  â”‚  Configure: ^agent\.metadata$             â”‚
  â”‚  Write:     ^agent\.metadata$             â”‚
  â”‚  Read:      ^agent\.metadata$             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ìµœì†Œ ê¶Œí•œ ì›ì¹™:
  - agent.metadata íë§Œ ì ‘ê·¼ ê°€ëŠ¥
  - ë‹¤ë¥¸ í ìƒì„±/ì ‘ê·¼ ë¶ˆê°€
  - ê³µê²© í‘œë©´ ìµœì†Œí™”
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- TLS-only AMQP (TCP ë¹„í™œì„±í™”)
- ì¬ì ‘ì† + ë¡œì»¬ ë²„í¼ (unsent.jsonl)
- í‚¤ êµì²´ ì¤‘ì—ë„ ì„œë¹„ìŠ¤ ì§€ì†

---

### 2-4. ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€, ì´ˆê¸° ì„¤ì •Â·ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì œê³µ

**TLS ê°•ì œÂ·ê¸°ë³¸ê³„ì • ì œê±°Â·ìµœì†Œê¶Œí•œ Role ë“± ë³´ì•ˆ ê¸°ë³¸ê°’ ì ìš©**

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](42_home_page.png) | Dashboard Home (ì‹œìŠ¤í…œ ê°œìš”) |
| ![](43_checklist_dashboard.png) | Checklist - Dashboard Verifiable |
| ![](44_checklist_code.png) | Checklist - Code Verifiable |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**42_home_page.png - ëŒ€ì‹œë³´ë“œ í™ˆ í™”ë©´**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Edge Auth Manager ëŒ€ì‹œë³´ë“œ

[ë³¸ë¬¸]
â€¢ Dashboard Home í™”ë©´:
  - Quick Status: ì‹œìŠ¤í…œ ìƒíƒœ ìš”ì•½
  - Quick Navigation: ì£¼ìš” ê¸°ëŠ¥ ë°”ë¡œê°€ê¸°
  - ì „ì²´ ì‹œìŠ¤í…œ ê°œìš” ì œê³µ

â€¢ ì‹œìŠ¤í…œ êµ¬ì„±:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Docker Compose ê¸°ë°˜ 5ê°œ ì„œë¹„ìŠ¤            â”‚
  â”‚  â”œâ”€â”€ Manager (Auth API)                    â”‚
  â”‚  â”œâ”€â”€ Agent (Security Module)               â”‚
  â”‚  â”œâ”€â”€ Dashboard (Admin UI)                  â”‚
  â”‚  â”œâ”€â”€ RabbitMQ (Message Bus)                â”‚
  â”‚  â””â”€â”€ SQLite (Database)                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ë‹¨ì¼ ëª…ë ¹ì–´ë¡œ ì „ì²´ ì‹œìŠ¤í…œ êµ¬ë™: docker compose up
```

**43_checklist_dashboard.png - ëŒ€ì‹œë³´ë“œ ê²€ì¦ í•­ëª©**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] êµ¬í˜„ ì™„ë£Œ ê²€ì¦ - Dashboard Verifiable

[ë³¸ë¬¸]
â€¢ Dashboard-Verifiable Items:
  - ëŒ€ì‹œë³´ë“œ UIì—ì„œ ì§ì ‘ í™•ì¸ ê°€ëŠ¥í•œ í•­ëª©ë“¤
  - í´ë¦­ìœ¼ë¡œ ì‹¤ì‹œê°„ ê²€ì¦ ê°€ëŠ¥

â€¢ ê²€ì¦ ê°€ëŠ¥ í•­ëª© ì˜ˆì‹œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  âœ“ ë””ë°”ì´ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í˜•ì‹ í™•ì¸         â”‚
  â”‚  âœ“ ìƒíƒœì „ì´ (PENDINGâ†’APPROVED) í™•ì¸        â”‚
  â”‚  âœ“ mTLS Enforced ìƒíƒœ í™•ì¸                 â”‚
  â”‚  âœ“ JWT TTL ì„¤ì • í™•ì¸                       â”‚
  â”‚  âœ“ RBAC ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤ í™•ì¸                 â”‚
  â”‚  âœ“ RabbitMQ TLS ì—°ê²° í™•ì¸                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì™¸ë¶€ ê°ì‚¬(Audit) ì‹œ ì‹¤ì‹œê°„ ê²€ì¦ ê°€ëŠ¥
```

**44_checklist_code.png - ì½”ë“œ ê²€ì¦ í•­ëª©**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] êµ¬í˜„ ì™„ë£Œ ê²€ì¦ - Code Verifiable

[ë³¸ë¬¸]
â€¢ Code-Verifiable Items:
  - ì†ŒìŠ¤ ì½”ë“œì—ì„œ í™•ì¸í•´ì•¼ í•˜ëŠ” í•­ëª©ë“¤
  - ì½”ë“œ ìŠ¤ë‹ˆí«ê³¼ íŒŒì¼ ê²½ë¡œ ì œê³µ

â€¢ ê²€ì¦ ê°€ëŠ¥ í•­ëª© ì˜ˆì‹œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  âœ“ Non-root ì»¨í…Œì´ë„ˆ ì„¤ì •                  â”‚
  â”‚    â†’ Dockerfile: USER manager (UID 1001)   â”‚
  â”‚  âœ“ ì¬ì‹œë„/ë°±ì˜¤í”„ êµ¬í˜„                      â”‚
  â”‚    â†’ client.py: @retry(stop=5, wait=exp)   â”‚
  â”‚  âœ“ ë¡œì»¬ ë²„í¼ êµ¬í˜„                          â”‚
  â”‚    â†’ buffer.py: JsonlBuffer class          â”‚
  â”‚  âœ“ í† í° ìë™ ê°±ì‹                           â”‚
  â”‚    â†’ run.py: TTL 80% ì‹œì  ê°±ì‹              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ 61ê°œ ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª© 100% êµ¬í˜„ ì™„ë£Œ
```

**ë°œí‘œ í¬ì¸íŠ¸:**
- Non-root ì»¨í…Œì´ë„ˆ (manager:1001, agent:1002, dashboard:1003)
- TLS ê°•ì œ, guest ê³„ì • ì œê±°
- ìµœì†Œê¶Œí•œ Role (RabbitMQ ì •ê·œì‹ ì œí•œ)

---

## 3. í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ

| ìŠ¤í¬ë¦°ìƒ· | ì„¤ëª… |
|----------|------|
| ![](45_test_current_cycle.png) | Current Cycle (í˜„ì¬ í…ŒìŠ¤íŠ¸ ê²°ê³¼) |
| ![](46_test_historical.png) | Historical Stats (ì¶”ì„¸ ì°¨íŠ¸) |
| ![](47_test_category.png) | Category Breakdown (ì¹´í…Œê³ ë¦¬ë³„) |
| ![](48_test_log.png) | Test Log (í…ŒìŠ¤íŠ¸ ë¡œê·¸) |

#### ğŸ“‹ PPT ìŠ¬ë¼ì´ë“œìš© ìƒì„¸ ì„¤ëª…

**45_test_current_cycle.png - í˜„ì¬ í…ŒìŠ¤íŠ¸ ì‚¬ì´í´**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ìë™í™” í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ - í˜„ì¬ ì‚¬ì´í´

[ë³¸ë¬¸]
â€¢ Current Cycle íƒ­:
  - Total Tests: ì „ì²´ í…ŒìŠ¤íŠ¸ ìˆ˜
  - Passed: í†µê³¼í•œ í…ŒìŠ¤íŠ¸ ìˆ˜ (ë…¹ìƒ‰)
  - Failed: ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ìˆ˜ (ë¹¨ê°„ìƒ‰)
  - Pass Rate: ì„±ê³µë¥  (%)

â€¢ í…ŒìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬ (4ê°œ, ~25ê°œ í…ŒìŠ¤íŠ¸):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  1. Agent Security Module (ë””ë°”ì´ìŠ¤ ë“±ë¡)  â”‚
  â”‚  2. Async/mTLS/Session (ìƒí˜¸ ì¸ì¦)         â”‚
  â”‚  3. Auth Module APIs (ì¸ì¦/ì¸ê°€)           â”‚
  â”‚  4. Message Bus (ë©”ì‹œì§€ ë²„ìŠ¤)              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ 30ì´ˆ ì£¼ê¸°ë¡œ ìë™ ì‹¤í–‰, ì‹¤ì‹œê°„ ê²°ê³¼ ì—…ë°ì´íŠ¸
```

**46_test_historical.png - í…ŒìŠ¤íŠ¸ ì´ë ¥ í†µê³„**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] í…ŒìŠ¤íŠ¸ ì¶”ì„¸ ë¶„ì„ - Historical Stats

[ë³¸ë¬¸]
â€¢ Historical Stats íƒ­:
  - ì‹œê°„ë³„ ì„±ê³µë¥  ì¶”ì„¸ ì°¨íŠ¸
  - ëˆ„ì  í…ŒìŠ¤íŠ¸ í†µê³„
  - ìµœëŒ€ 100 ì‚¬ì´í´ ì´ë ¥ ë³´ê´€

â€¢ ì¶”ì„¸ ë¶„ì„ í™œìš©:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ì‹œê°„                                      â”‚
  â”‚  â†“                                         â”‚
  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100% ì„±ê³µë¥          â”‚
  â”‚         â†˜                                  â”‚
  â”‚           â”â”â”â”â”â” ì¼ì‹œì  í•˜ë½ (ì¡°ì‚¬ í•„ìš”)   â”‚
  â”‚                   â†—                        â”‚
  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ë³µêµ¬               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì‹œìŠ¤í…œ ì•ˆì •ì„± ì§€ì† ëª¨ë‹ˆí„°ë§
```

**47_test_category.png - ì¹´í…Œê³ ë¦¬ë³„ ë¶„ì„**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] ì¹´í…Œê³ ë¦¬ë³„ í…ŒìŠ¤íŠ¸ í˜„í™© - Category Breakdown

[ë³¸ë¬¸]
â€¢ Category Breakdown íƒ­:
  - 4ê°œ ì¹´í…Œê³ ë¦¬ë³„ ì„±ê³µë¥  ë°” ì°¨íŠ¸
  - ì¹´í…Œê³ ë¦¬ë³„ í…ŒìŠ¤íŠ¸ ìˆ˜/í†µê³¼ ìˆ˜

â€¢ ì¹´í…Œê³ ë¦¬ë³„ ìƒì„¸:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Category           â”‚  Tests â”‚  Pass Rate   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  Agent Security     â”‚  5     â”‚  100%        â”‚
  â”‚  Async/mTLS/Session â”‚  5     â”‚  100%        â”‚
  â”‚  Auth Module APIs   â”‚  11    â”‚  100%        â”‚
  â”‚  Message Bus        â”‚  6     â”‚  100%        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì·¨ì•½ ì¹´í…Œê³ ë¦¬ ì‹ë³„ ë° ì§‘ì¤‘ ê°œì„  ê°€ëŠ¥
```

**48_test_log.png - í…ŒìŠ¤íŠ¸ ë¡œê·¸**
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë¡œê·¸ - Test Log

[ë³¸ë¬¸]
â€¢ Test Log íƒ­:
  - ìµœê·¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìƒì„¸ ë¡œê·¸
  - í•„í„°ë§: ìƒíƒœë³„, ì¹´í…Œê³ ë¦¬ë³„
  - ìµœëŒ€ 100ê°œ í•­ëª© ë³´ê´€

â€¢ ë¡œê·¸ í•„ë“œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Timestamp: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°               â”‚
  â”‚  Test Name: í…ŒìŠ¤íŠ¸ ì´ë¦„                    â”‚
  â”‚  Category: í…ŒìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬                 â”‚
  â”‚  Status: PASS/FAIL/ERROR                   â”‚
  â”‚  Duration: ì†Œìš” ì‹œê°„ (ms)                  â”‚
  â”‚  Expected: ì˜ˆìƒ ê²°ê³¼                       â”‚
  â”‚  Actual: ì‹¤ì œ ê²°ê³¼                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ìƒì„¸ ë¶„ì„ ë° ë””ë²„ê¹… ì§€ì›
```

---

## PPT ìŠ¬ë¼ì´ë“œ êµ¬ì„± ì œì•ˆ

| ìŠ¬ë¼ì´ë“œ | ì œëª© | ì‚¬ìš©í•  ìŠ¤í¬ë¦°ìƒ· |
|----------|------|----------------|
| 1 | í‘œì§€ | - |
| 2 | ì‹œìŠ¤í…œ ê°œìš” | 42_home_page, 20_overview_metrics |
| 3 | ë””ë°”ì´ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ | 01_namespace_device_list |
| 4 | ìƒíƒœì „ì´ ë° ê´€ë¦¬ | 02_status_pending, 05_admin_actions |
| 5 | ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬/QoS | 50_checklist_network_code, 51_checklist_container_code |
| 6 | mTLS ì •ì±… | 10_jwt_security_status, 52_checklist_mtls_code |
| 7 | RBAC ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤ | 13_rbac_matrix, 15_test_rbac |
| 8 | ì¸ì¦ì„œ/í‚¤ ê´€ë¦¬ | 16_crl_section, 17_cert_status, 19_security_config |
| 9 | 3ê³„ì¸µ ì•„í‚¤í…ì²˜ | 07_network_overview, 20_overview_metrics, 21_rabbitmq_queues |
| 10 | ì¸ì¦ íë¦„ | 24_test_agent_security, 25_auth_events_timeline |
| 11 | ê´€ì°°ì„± | 27_logs_page, 29_system_health |
| 12 | ì—ì´ì „íŠ¸ ëª¨ë“ˆ | 30_device_registration, 32_test_registration |
| 13 | ì¸ì¦ API | 33_cert_actions, 35_test_auth_apis |
| 14 | ë©”ì‹œì§€ë²„ìŠ¤ | 37_rabbitmq_tls, 39_test_rmq_health |
| 15 | ì»¨í…Œì´ë„ˆ/ë³´ì•ˆ | 43_checklist_dashboard, 44_checklist_code |
| 16 | í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ | 45_test_current_cycle, 46_test_historical |
| 17 | ìš”ì•½ | - (61ê°œ í•­ëª© 100% êµ¬í˜„ ì™„ë£Œ) |

---

## ìŠ¤í¬ë¦°ìƒ· íŒŒì¼ ëª©ë¡ (54ê°œ)

```
01_namespace_device_list.png
02_status_pending.png
05_admin_actions.png
07_network_overview.png
08_test_mtls.png
10_jwt_security_status.png
11_auth_summary.png
12_token_events.png
13_rbac_matrix.png
14_hmac_algorithm.png
15_test_rbac.png
16_crl_section.png
17_cert_status.png
18_last_rotation.png
19_security_config.png
20_overview_metrics.png
21_rabbitmq_queues.png
22_rabbitmq_overview.png
23_test_messagebus.png
24_test_agent_security.png
25_auth_events_timeline.png
26_security_incidents.png
27_logs_page.png
28_logs_filter.png
29_system_health.png
30_device_registration.png
31_device_lastseen.png
32_test_registration.png
33_cert_actions.png
35_test_auth_apis.png
36_auth_failure_analysis.png
37_rabbitmq_tls.png
38_queue_metadata.png
39_test_rmq_health.png
40_test_rmq_permissions.png
42_home_page.png
43_checklist_dashboard.png
44_checklist_code.png
45_test_current_cycle.png
46_test_historical.png
47_test_category.png
48_test_log.png
50_checklist_network_code.png
51_checklist_container_code.png
52_checklist_mtls_code.png
53_intermediate_ca_code.png
54_crl_ocsp_section.png
55_agent_async_code.png
56_gateway_rabbitmq.png
57_manager_overview.png
58_register_retry_code.png
59_jwt_token_code.png
60_buffer_reconnect_code.png
61_full_auth_flow_code.png
```

---

## ë°œí‘œ ìš”ì•½ ìŠ¬ë¼ì´ë“œìš© ë‚´ìš©

### ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ - í”„ë¡œì íŠ¸ ìš”ì•½
```
[ìŠ¬ë¼ì´ë“œ ì œëª©] Edge Auth Manager í”„ë¡œí† íƒ€ì… - êµ¬í˜„ ì™„ë£Œ ìš”ì•½

[ë³¸ë¬¸]
â€¢ êµ¬í˜„ ì™„ë£Œ í˜„í™©:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ì´ 61ê°œ ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª©                   â”‚
  â”‚  âœ“ Dashboard-Verifiable: 31ê°œ (100%)       â”‚
  â”‚  âœ“ Code-Verifiable: 30ê°œ (100%)            â”‚
  â”‚  â†’ ì „ì²´ êµ¬í˜„ ì™„ë£Œìœ¨: 100%                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ í•µì‹¬ êµ¬í˜„ ì‚¬í•­:
  1. ìš”êµ¬ì‚¬í•­ ì •ì˜ ë° ì •ì±… ì„¤ê³„ (8ê°œ í•­ëª©) âœ“
     - ë„¤ì„ìŠ¤í˜ì´ìŠ¤, mTLS, RBAC, PKI, 3ê³„ì¸µ ì•„í‚¤í…ì²˜

  2. í•µì‹¬ ì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œí† íƒ€ì… ê°œë°œ (4ê°œ ëª¨ë“ˆ) âœ“
     - Agent ë³´ì•ˆ ëª¨ë“ˆ, ì¸ì¦ API, ë©”ì‹œì§€ë²„ìŠ¤, ì»¨í…Œì´ë„ˆ

â€¢ ë³´ì•ˆ íŠ¹ì§•:
  - ëª¨ë“  í†µì‹  êµ¬ê°„ TLS ì•”í˜¸í™”
  - ìƒí˜¸ ì¸ì¦ (mTLS) í•„ìˆ˜
  - RBAC ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©
  - Non-root ì»¨í…Œì´ë„ˆ ì‹¤í–‰

â€¢ ìš´ì˜ íŠ¹ì§•:
  - ìë™í™” í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ (30ì´ˆ ì£¼ê¸°)
  - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
  - êµ¬ì¡°í™” ë¡œê·¸ ë° ë©”íŠ¸ë¦­ìŠ¤
```

---

## ë°œí‘œ íŒ

1. **ë°ëª¨ ì¤€ë¹„**: ë°œí‘œ ì „ `docker compose up -d`ë¡œ ì‹œìŠ¤í…œ ì‹¤í–‰
2. **ì‹¤ì‹œê°„ ë°ëª¨**: ê°€ëŠ¥í•˜ë©´ ìŠ¤í¬ë¦°ìƒ· ëŒ€ì‹  ì‹¤ì œ ëŒ€ì‹œë³´ë“œ ì‹œì—°
3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: Test Scenarios í˜ì´ì§€ì—ì„œ "Start" ë²„íŠ¼ í´ë¦­í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª¨ìŠµ ì‹œì—°
4. **RabbitMQ ë¡œê·¸ì¸**: http://localhost:15672 (ID: isl / PW: wjdqhqhghdusrntlf1!)
5. **ê°•ì¡° í¬ì¸íŠ¸**: ë³´ì•ˆ (mTLS, RBAC), ìë™í™” (í…ŒìŠ¤íŠ¸), ê´€ì°°ì„± (ë¡œê·¸, ë©”íŠ¸ë¦­ìŠ¤)
